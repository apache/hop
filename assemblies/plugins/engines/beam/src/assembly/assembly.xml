<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to You under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  -->

<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.3 http://maven.apache.org/xsd/assembly-1.1.3.xsd">
  <id>hop-assemblies-plugins-misc-testing</id>
  <formats>
    <format>zip</format>
  </formats>
  <baseDirectory>engines/beam</baseDirectory>
  <files>
    <file>
      <source>${project.basedir}/src/main/resources/version.xml</source>
      <outputDirectory>.</outputDirectory>
      <filtered>true</filtered>
    </file>
    <file>
      <source>${project.basedir}/src/main/resources/dependencies.xml</source>
      <outputDirectory>.</outputDirectory>
      <filtered>true</filtered>
    </file>
  </files>
  <fileSets>
    <fileSet>
      <outputDirectory>lib</outputDirectory>
      <excludes>
        <exclude>**/*</exclude>
      </excludes>
    </fileSet>
  </fileSets>
  <dependencySets>
    <dependencySet>
      <useProjectArtifact>false</useProjectArtifact>
      <includes>
        <include>org.apache.hop:hop-plugins-engines-beam:jar</include>
      </includes>
    </dependencySet>
    <dependencySet>
      <outputDirectory>lib</outputDirectory>
      <useProjectArtifact>false</useProjectArtifact>
      <scope>runtime</scope>
      <includes>

        <!--
            How to get the includes below...
            - mvn dependency:tree
            - Select the top level packages and their children (except Hop depdendencies)
            - Clean up [INFO] and other junk
            - Clean up the back-ends
            - Add <include> and </include>
        -->

        <include>args4j:args4j</include>
        <include>com.101tec:zkclient</include>
        <include>com.clearspring.analytics:stream</include>
        <include>com.esotericsoftware.kryo:kryo</include>
        <include>com.esotericsoftware:kryo-shaded</include>
        <include>com.esotericsoftware:minlog</include>
        <include>com.esotericsoftware.minlog:minlog</include>
        <include>com.fasterxml.jackson.core:jackson-annotations</include>
        <include>com.fasterxml.jackson.core:jackson-core</include>
        <include>com.fasterxml.jackson.core:jackson-databind</include>
        <include>com.fasterxml.jackson.module:jackson-module-paranamer</include>
        <include>com.fasterxml.jackson.module:jackson-module-scala_2.11</include>
        <include>com.github.luben:zstd-jni</include>
        <include>com.github.scopt:scopt_2.11</include>
        <include>com.google.android:annotations</include>
        <include>com.google.api:api-common</include>
        <include>com.google.api-client:google-api-client</include>
        <include>com.google.api-client:google-api-client-jackson2</include>
        <include>com.google.api-client:google-api-client-java6</include>
        <include>com.google.api:gax</include>
        <include>com.google.api:gax-grpc</include>
        <include>com.google.api:gax-httpjson</include>
        <include>com.google.api.grpc:grpc-google-cloud-bigtable-admin-v2</include>
        <include>com.google.api.grpc:grpc-google-cloud-bigtable-v2</include>
        <include>com.google.api.grpc:grpc-google-cloud-pubsub-v1</include>
        <include>com.google.api.grpc:grpc-google-common-protos</include>
        <include>com.google.api.grpc:proto-google-cloud-bigquerystorage-v1beta1</include>
        <include>com.google.api.grpc:proto-google-cloud-bigtable-admin-v2</include>
        <include>com.google.api.grpc:proto-google-cloud-bigtable-v2</include>
        <include>com.google.api.grpc:proto-google-cloud-datastore-v1</include>
        <include>com.google.api.grpc:proto-google-cloud-pubsub-v1</include>
        <include>com.google.api.grpc:proto-google-cloud-spanner-admin-database-v1</include>
        <include>com.google.api.grpc:proto-google-cloud-spanner-admin-instance-v1</include>
        <include>com.google.api.grpc:proto-google-cloud-spanner-v1</include>
        <include>com.google.api.grpc:proto-google-common-protos</include>
        <include>com.google.api.grpc:proto-google-iam-v1</include>
        <include>com.google.apis:google-api-services-bigquery</include>
        <include>com.google.apis:google-api-services-clouddebugger</include>
        <include>com.google.apis:google-api-services-cloudresourcemanager</include>
        <include>com.google.apis:google-api-services-dataflow</include>
        <include>com.google.apis:google-api-services-pubsub</include>
        <include>com.google.apis:google-api-services-storage</include>
        <include>com.google.auth:google-auth-library-credentials</include>
        <include>com.google.auth:google-auth-library-oauth2-http</include>
        <include>com.google.auto:auto-common</include>
        <include>com.google.auto.service:auto-service</include>
        <include>com.google.auto.value:auto-value</include>
        <include>com.google.auto.value:auto-value-annotations</include>
        <include>com.google.cloud.bigdataoss:gcsio</include>
        <include>com.google.cloud.bigdataoss:util</include>
        <include>com.google.cloud.bigtable:bigtable-client-core</include>
        <include>com.google.cloud.datastore:datastore-v1-proto-client</include>
        <include>com.google.cloud:google-cloud-bigquery</include>
        <include>com.google.cloud:google-cloud-bigquerystorage</include>
        <include>com.google.cloud:google-cloud-bigtable</include>
        <include>com.google.cloud:google-cloud-core</include>
        <include>com.google.cloud:google-cloud-core-grpc</include>
        <include>com.google.cloud:google-cloud-core-http</include>
        <include>com.google.cloud:google-cloud-spanner</include>
        <include>com.google.cloud:google-cloud-storage</include>
        <include>com.google.code.findbugs:jsr305</include>
        <include>com.google.code.gson:gson</include>
        <include>com.googlecode.json-simple:json-simple</include>
        <include>com.google.errorprone:error_prone_annotations</include>
        <include>com.google.flogger:flogger</include>
        <include>com.google.flogger:flogger-system-backend</include>
        <include>com.google.flogger:google-extensions</include>
        <include>com.google.http-client:google-http-client</include>
        <include>com.google.http-client:google-http-client-appengine</include>
        <include>com.google.http-client:google-http-client-jackson2</include>
        <include>com.google.http-client:google-http-client-protobuf</include>
        <include>com.google.j2objc:j2objc-annotations</include>
        <include>com.google.oauth-client:google-oauth-client</include>
        <include>com.google.oauth-client:google-oauth-client-java6</include>
        <include>com.google.protobuf:protobuf-java</include>
        <include>com.google.protobuf:protobuf-java-util</include>
        <include>commons-cli:commons-cli</include>
        <include>commons-configuration:commons-configuration</include>
        <include>commons-digester:commons-digester</include>
        <include>commons-httpclient:commons-httpclient</include>
        <include>commons-logging:commons-logging</include>
        <include>commons-net:commons-net</include>
        <include>com.ning:compress-lzf</include>
        <include>com.squareup.okhttp:okhttp</include>
        <include>com.squareup.okio:okio</include>
        <include>com.thoughtworks.paranamer:paranamer</include>
        <include>com.twitter:chill_2.11</include>
        <include>com.twitter:chill-java</include>
        <include>com.typesafe.akka:akka-actor_2.11</include>
        <include>com.typesafe.akka:akka-protobuf_2.11</include>
        <include>com.typesafe.akka:akka-slf4j_2.11</include>
        <include>com.typesafe.akka:akka-stream_2.11</include>
        <include>com.typesafe:config</include>
        <include>com.typesafe:ssl-config-core_2.11</include>
        <include>io.confluent:common-config</include>
        <include>io.confluent:common-utils</include>
        <include>io.confluent:kafka-avro-serializer</include>
        <include>io.confluent:kafka-schema-registry-client</include>
        <include>io.dropwizard.metrics:metrics-core</include>
        <include>io.dropwizard.metrics:metrics-graphite</include>
        <include>io.dropwizard.metrics:metrics-json</include>
        <include>io.dropwizard.metrics:metrics-jvm</include>
        <include>io.github.classgraph:classgraph</include>
        <include>io.grpc:grpc-all</include>
        <include>io.grpc:grpc-alts</include>
        <include>io.grpc:grpc-api</include>
        <include>io.grpc:grpc-auth</include>
        <include>io.grpc:grpc-context</include>
        <include>io.grpc:grpc-core</include>
        <include>io.grpc:grpc-grpclb</include>
        <include>io.grpc:grpc-netty</include>
        <include>io.grpc:grpc-netty-shaded</include>
        <include>io.grpc:grpc-okhttp</include>
        <include>io.grpc:grpc-protobuf</include>
        <include>io.grpc:grpc-protobuf-lite</include>
        <include>io.grpc:grpc-stub</include>
        <include>io.grpc:grpc-testing</include>
        <include>io.netty:netty</include>
        <include>io.netty:netty-all</include>
        <include>io.netty:netty-buffer</include>
        <include>io.netty:netty-codec</include>
        <include>io.netty:netty-codec-http</include>
        <include>io.netty:netty-codec-http2</include>
        <include>io.netty:netty-codec-socks</include>
        <include>io.netty:netty-common</include>
        <include>io.netty:netty-handler</include>
        <include>io.netty:netty-handler-proxy</include>
        <include>io.netty:netty-resolver</include>
        <include>io.netty:netty-tcnative-boringssl-static</include>
        <include>io.netty:netty-transport</include>
        <include>io.opencensus:opencensus-api</include>
        <include>io.opencensus:opencensus-contrib-grpc-metrics</include>
        <include>io.opencensus:opencensus-contrib-grpc-util</include>
        <include>io.opencensus:opencensus-contrib-http-util</include>
        <include>io.perfmark:perfmark-api</include>
        <include>javax.activation:activation</include>
        <include>javax.annotation:javax.annotation-api</include>
        <include>javax.servlet:javax.servlet-api</include>
        <include>javax.validation:validation-api</include>
        <include>javax.ws.rs:javax.ws.rs-api</include>
        <include>javax.xml.bind:jaxb-api</include>
        <include>javax.xml.stream:stax-api</include>
        <include>joda-time:joda-time</include>
        <include>log4j:log4j</include>
        <include>net.razorvine:pyrolite</include>
        <include>net.sf.py4j:py4j</include>
        <include>org.apache.avro:avro</include>
        <include>org.apache.avro:avro-ipc</include>
        <include>org.apache.avro:avro-mapred</include>
        <include>org.apache.beam:beam-model-fn-execution</include>
        <include>org.apache.beam:beam-model-job-management</include>
        <include>org.apache.beam:beam-model-pipeline</include>
        <include>org.apache.beam:beam-runners-core-construction-java</include>
        <include>org.apache.beam:beam-runners-core-java</include>
        <include>org.apache.beam:beam-runners-direct-java</include>
        <include>org.apache.beam:beam-runners-flink-1.9</include>
        <include>org.apache.beam:beam-runners-google-cloud-dataflow-java</include>
        <include>org.apache.beam:beam-runners-java-fn-execution</include>
        <include>org.apache.beam:beam-runners-spark</include>
        <include>org.apache.beam:beam-sdks-java-core</include>
        <include>org.apache.beam:beam-sdks-java-extensions-google-cloud-platform-core</include>
        <include>org.apache.beam:beam-sdks-java-extensions-join-library</include>
        <include>org.apache.beam:beam-sdks-java-extensions-protobuf</include>
        <include>org.apache.beam:beam-sdks-java-fn-execution</include>
        <include>org.apache.beam:beam-sdks-java-io-google-cloud-platform</include>
        <include>org.apache.beam:beam-sdks-java-io-hadoop-common</include>
        <include>org.apache.beam:beam-sdks-java-io-hadoop-file-system</include>
        <include>org.apache.beam:beam-sdks-java-io-kafka</include>
        <include>org.apache.beam:beam-sdks-java-io-synthetic</include>
        <include>org.apache.beam:beam-vendor-bytebuddy-1_10_8</include>
        <include>org.apache.beam:beam-vendor-grpc-1_26_0</include>
        <include>org.apache.beam:beam-vendor-guava-20_0</include>
        <include>org.apache.beam:beam-vendor-guava-26_0-jre</include>
        <include>org.apache.beam:beam-vendor-sdks-java-extensions-protobuf</include>
        <include>org.apache.commons:commons-crypto</include>
        <include>org.apache.commons:commons-lang3</include>
        <include>org.apache.commons:commons-math3</include>
        <include>org.apache.curator:curator-client</include>
        <include>org.apache.curator:curator-framework</include>
        <include>org.apache.curator:curator-recipes</include>
        <include>org.apache.directory.api:api-asn1-api</include>
        <include>org.apache.directory.api:api-util</include>
        <include>org.apache.directory.server:apacheds-i18n</include>
        <include>org.apache.directory.server:apacheds-kerberos-codec</include>
        <include>org.apache.flink:flink-annotations</include>
        <include>org.apache.flink:flink-clients_2.11</include>
        <include>org.apache.flink:flink-core</include>
        <include>org.apache.flink:flink-hadoop-fs</include>
        <include>org.apache.flink:flink-java</include>
        <include>org.apache.flink:flink-metrics-core</include>
        <include>org.apache.flink:flink-optimizer_2.11</include>
        <include>org.apache.flink:flink-queryable-state-client-java</include>
        <include>org.apache.flink:flink-runtime_2.11</include>
        <include>org.apache.flink:flink-shaded-asm-6</include>
        <include>org.apache.flink:flink-shaded-guava</include>
        <include>org.apache.flink:flink-shaded-jackson</include>
        <include>org.apache.flink:flink-shaded-netty</include>
        <include>org.apache.flink:flink-streaming-java_2.11</include>
        <include>org.apache.flink:force-shading</include>
        <include>org.apache.hadoop:hadoop-annotations</include>
        <include>org.apache.hadoop:hadoop-auth</include>
        <include>org.apache.hadoop:hadoop-client</include>
        <include>org.apache.hadoop:hadoop-common</include>
        <include>org.apache.hadoop:hadoop-hdfs</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-app</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-common</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-core</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-jobclient</include>
        <include>org.apache.hadoop:hadoop-mapreduce-client-shuffle</include>
        <include>org.apache.hadoop:hadoop-yarn-api</include>
        <include>org.apache.hadoop:hadoop-yarn-client</include>
        <include>org.apache.hadoop:hadoop-yarn-common</include>
        <include>org.apache.hadoop:hadoop-yarn-server-common</include>
        <include>org.apache.ivy:ivy</include>
        <include>org.apache.kafka:kafka-clients</include>
        <include>org.apache.logging.log4j:log4j-api</include>
        <include>org.apache.spark:spark-core_2.11</include>
        <include>org.apache.spark:spark-kvstore_2.11</include>
        <include>org.apache.spark:spark-launcher_2.11</include>
        <include>org.apache.spark:spark-network-common_2.11</include>
        <include>org.apache.spark:spark-network-shuffle_2.11</include>
        <include>org.apache.spark:spark-streaming_2.11</include>
        <include>org.apache.spark:spark-tags_2.11</include>
        <include>org.apache.spark:spark-unsafe_2.11</include>
        <include>org.apache.xbean:xbean-asm6-shaded</include>
        <include>org.apache.zookeeper:zookeeper</include>
        <include>org.clapper:grizzled-slf4j_2.11</include>
        <include>org.codehaus.jackson:jackson-core-asl</include>
        <include>org.codehaus.jackson:jackson-jaxrs</include>
        <include>org.codehaus.jackson:jackson-mapper-asl</include>
        <include>org.codehaus.jackson:jackson-xc</include>
        <include>org.codehaus.mojo:animal-sniffer-annotations</include>
        <include>org.conscrypt:conscrypt-openjdk-uber</include>
        <include>org.fusesource.leveldbjni:leveldbjni-all</include>
        <include>org.glassfish.hk2.external:aopalliance-repackaged</include>
        <include>org.glassfish.hk2.external:javax.inject</include>
        <include>org.glassfish.hk2:hk2-api</include>
        <include>org.glassfish.hk2:hk2-locator</include>
        <include>org.glassfish.hk2:hk2-utils</include>
        <include>org.glassfish.hk2:osgi-resource-locator</include>
        <include>org.glassfish.jersey.bundles.repackaged:jersey-guava</include>
        <include>org.glassfish.jersey.containers:jersey-container-servlet</include>
        <include>org.glassfish.jersey.containers:jersey-container-servlet-core</include>
        <include>org.glassfish.jersey.core:jersey-client</include>
        <include>org.glassfish.jersey.core:jersey-common</include>
        <include>org.glassfish.jersey.core:jersey-server</include>
        <include>org.glassfish.jersey.media:jersey-media-jaxb</include>
        <include>org.htrace:htrace-core</include>
        <include>org.json4s:json4s-ast_2.11</include>
        <include>org.json4s:json4s-core_2.11</include>
        <include>org.json4s:json4s-jackson_2.11</include>
        <include>org.json4s:json4s-scalap_2.11</include>
        <include>org.lz4:lz4-java</include>
        <include>org.mortbay.jetty:jetty-util</include>
        <include>org.objenesis:objenesis</include>
        <include>org.reactivestreams:reactive-streams</include>
        <include>org.roaringbitmap:RoaringBitmap</include>
        <include>org.roaringbitmap:shims</include>
        <include>org.scala-lang.modules:scala-java8-compat_2.11</include>
        <include>org.scala-lang.modules:scala-parser-combinators_2.11</include>
        <include>org.scala-lang.modules:scala-xml_2.11</include>
        <include>org.scala-lang:scala-library</include>
        <include>org.slf4j:jcl-over-slf4j</include>
        <include>org.slf4j:jul-to-slf4j</include>
        <include>org.spark-project.spark:unused</include>
        <include>org.springframework:spring-core</include>
        <include>org.springframework:spring-expression</include>
        <include>org.threeten:threetenbp</include>
        <include>org.tukaani:xz</include>
        <include>org.xerial.snappy:snappy-java</include>
        <include>oro:oro</include>
        <include>xmlenc:xmlenc</include>

      </includes>
    </dependencySet>
  </dependencySets>
</assembly>